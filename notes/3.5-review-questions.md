# Section 3.5 Review Questions Answers

Based on the context from Section 3.5 "Connection-Oriented Transport: TCP" of "Computer Networking: A Top-Down Approach" by Kurose and Ross, here are the answers to the review questions R14 through R16. Each answer is explained clearly, with relevant examples, calculations, and Mermaid diagrams for better visualization. These are designed for exam preparation, highlighting key concepts from TCP's connection-oriented transport protocol.

## R14. True or false?

a. **False.** Host B will send acknowledgments to Host A because TCP uses piggybacking. When Host B has data to send to Host A, it can include the acknowledgment in the same segment. However, if Host B has no data to send, it will still send pure acknowledgment segments to acknowledge received data.

b. **False.** The size of the TCP receive window (rwnd) can change throughout the connection. It is dynamically adjusted based on the receiver's buffer space and is communicated in the receive window field of TCP segments.

c. **True.** The sequence number for a segment of this connection is m, then the sequence number for the subsequent segment will necessarily be m + 1. TCP sequence numbers are over the byte stream, not segments, so if a segment starts at byte m, the next segment must start at m + length of data in the first segment.

d. **False.** The sequence number for the subsequent segment would be m + length of data in the current segment, not necessarily m + 1. TCP sequence numbers represent byte positions in the data stream.

e. **True.** The TCP segment header has a 16-bit receive window field that indicates how much data the receiver is willing to accept.

f. **False.** The current value of TimeoutInterval for the connection will be ≥ EstimatedRTT, but not necessarily ≥ 1 sec. TimeoutInterval = EstimatedRTT + 4 × DevRTT, which depends on the measured RTT values, not the SampleRTT directly.

g. **False.** If Host A sends one segment with sequence number 38 and 4 bytes of data, the acknowledgment number in that segment would be the sequence number of the next expected byte from Host B, not necessarily 42. The acknowledgment number is independent of the data being sent.

## R15. Suppose Host A sends two TCP segments back to back to Host B over a TCP connection. The first segment has sequence number 90; the second has sequence number 110.

a. **How much data is in the first segment?**

The first segment has sequence number 90, and the second has sequence number 110. Since TCP sequence numbers represent the byte position in the data stream, the difference between sequence numbers indicates the amount of data. The first segment contains 110 - 90 = 20 bytes of data.

b. **Suppose that the first segment is lost but the second segment arrives at B. In the acknowledgment that Host B sends to Host A, what will be the acknowledgment number?**

Host B will send an acknowledgment with acknowledgment number 90, indicating that it is still waiting for data starting from byte 90. TCP uses cumulative acknowledgments, so even if the second segment arrives, B cannot acknowledge beyond the first missing byte.

## R16. Consider the Telnet example discussed in Section 3.5. A few seconds after the user types the letter 'C', the user types the letter 'R'. After typing the letter 'R,' how many segments are sent, and what is put in the sequence number and acknowledgment fields of the segments?

After the user types 'R', three segments are sent:

1. **First segment (from client to server)**: Contains the letter 'R' in the data field. Sequence number = 43 (continuing from previous example where 'C' ended at byte 42). Acknowledgment number = 80 (expecting byte 80 from server).

2. **Second segment (from server to client)**: Acknowledges receipt of 'R' and echoes back 'R'. Sequence number = 80. Acknowledgment number = 44 (acknowledging up through byte 43).

3. **Third segment (from client to server)**: Pure acknowledgment for the echoed 'R'. Sequence number = 44. Acknowledgment number = 81 (acknowledging up through byte 80).

This follows the same pattern as the 'C' example, with sequence and acknowledgment numbers incremented appropriately.

### Diagram: TCP Segment Structure
![TCP Segment Structure](../notes/images/tcp-segment-structure.png)

### Diagram: Telnet Sequence for 'R'
![Telnet Sequence for 'R'](../notes/images/tcp-telnet-sequence.png)

### Diagram: TCP Three-Way Handshake
![TCP Three-Way Handshake](../notes/images/tcp-three-way-handshake.png)

### Diagram: TCP Connection Teardown
![TCP Connection Teardown](../notes/images/tcp-connection-teardown.png)